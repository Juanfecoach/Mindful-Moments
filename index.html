<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindful Moments - Reflexiones Diarias</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50">
    <div id="app" class="p-4">
        <div class="max-w-md mx-auto">
            <!-- Header -->
            <div class="text-center mb-8 mt-6">
                <div class="inline-block p-4 bg-white rounded-full shadow-lg mb-4">
                    <svg class="w-12 h-12 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C10.9 2 10 2.9 10 4V6.29C7.12 7.14 5 9.82 5 13C5 15.65 6.53 17.93 8.74 19.12C8.16 18.5 7.5 17.5 7.5 16.5C7.5 14.5 9 13 11 13H13C15 13 16.5 14.5 16.5 16.5C16.5 17.5 15.84 18.5 15.26 19.12C17.47 17.93 19 15.65 19 13C19 9.82 16.88 7.14 14 6.29V4C14 2.9 13.1 2 12 2M11.5 8C11.78 8 12 8.22 12 8.5V12.5C12 12.78 11.78 13 11.5 13C11.22 13 11 12.78 11 12.5V8.5C11 8.22 11.22 8 11.5 8M12.5 8C12.78 8 13 8.22 13 8.5V12.5C13 12.78 12.78 13 12.5 13C12.22 13 12 12.78 12 12.5V8.5C12 8.22 12.22 8 12.5 8M9 16C9 16 9 16.5 9.5 17.5C10 18.5 11 19.36 12 20C13 19.36 14 18.5 14.5 17.5C15 16.5 15 16 15 16H9Z"/>
                    </svg>
                </div>
                <h1 class="text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2">
                    Mindful Moments
                </h1>
                <p class="text-gray-600 text-sm">Reflexiones diarias para tu bienestar</p>
            </div>

            <!-- Enable Notifications -->
            <div id="enableSection" class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                <div class="text-center">
                    <svg class="w-12 h-12 text-purple-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                    </svg>
                    <h2 class="text-xl font-semibold mb-2">Activa tus recordatorios</h2>
                    <p class="text-gray-600 text-sm mb-4">
                        RecibirÃ¡s 4 notificaciones diarias en horarios aleatorios para reflexionar y conectar contigo mismo/a
                    </p>
                    <button onclick="activateNotifications()" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 px-6 rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg">
                        Activar Recordatorios
                    </button>
                </div>
            </div>

            <!-- Today's Schedule -->
            <div id="scheduleSection" class="bg-white rounded-2xl shadow-lg p-6 mb-6 hidden">
                <div class="flex items-center gap-2 mb-4">
                    <svg class="w-5 h-5 text-purple-500" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M5 3a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2H5zm7 2l4.95 7.5L12 20l-4.95-7.5L12 5z"/>
                    </svg>
                    <h2 class="text-lg font-semibold">Horarios de hoy</h2>
                </div>
                <div id="scheduleList" class="space-y-3"></div>
            </div>

            <!-- Current Question -->
            <div id="questionSection" class="bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-2xl p-6 mb-6 text-white hidden">
                <div class="text-center">
                    <svg class="w-10 h-10 mx-auto mb-4 opacity-90" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M5 3a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2H5zm7 2l4.95 7.5L12 20l-4.95-7.5L12 5z"/>
                    </svg>
                    <h3 class="text-lg font-semibold mb-3">Momento de ReflexiÃ³n</h3>
                    <p id="currentQuestion" class="text-lg leading-relaxed"></p>
                </div>
            </div>

            <!-- Test Button -->
            <div id="testSection" class="bg-white rounded-2xl shadow-lg p-6 mb-6 hidden">
                <button onclick="testNotification()" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all">
                    Probar notificaciÃ³n
                </button>
            </div>

            <!-- Info Section -->
            <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
                    <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C10.9 2 10 2.9 10 4V6.29C7.12 7.14 5 9.82 5 13C5 15.65 6.53 17.93 8.74 19.12C8.16 18.5 7.5 17.5 7.5 16.5C7.5 14.5 9 13 11 13H13C15 13 16.5 14.5 16.5 16.5C16.5 17.5 15.84 18.5 15.26 19.12C17.47 17.93 19 15.65 19 13C19 9.82 16.88 7.14 14 6.29V4C14 2.9 13.1 2 12 2M11.5 8C11.78 8 12 8.22 12 8.5V12.5C12 12.78 11.78 13 11.5 13C11.22 13 11 12.78 11 12.5V8.5C11 8.22 11.22 8 11.5 8M12.5 8C12.78 8 13 8.22 13 8.5V12.5C13 12.78 12.78 13 12.5 13C12.22 13 12 12.78 12 12.5V8.5C12 8.22 12.22 8 12.5 8M9 16C9 16 9 16.5 9.5 17.5C10 18.5 11 19.36 12 20C13 19.36 14 18.5 14.5 17.5C15 16.5 15 16 15 16H9Z"/>
                    </svg>
                    Â¿CÃ³mo funciona?
                </h3>
                <ul class="space-y-2 text-sm text-gray-600">
                    <li class="flex gap-2">
                        <span class="text-purple-500">âœ“</span>
                        <span>4 notificaciones diarias en horarios aleatorios</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-purple-500">âœ“</span>
                        <span>Preguntas diseÃ±adas para cada momento del dÃ­a</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-purple-500">âœ“</span>
                        <span>Completamente gratis y fÃ¡cil de compartir</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-purple-500">âœ“</span>
                        <span>Nuevos horarios cada dÃ­a para mantener la frescura</span>
                    </li>
                </ul>
            </div>

            <!-- Footer -->
            <div class="text-center mt-8 mb-4">
                <p class="text-xs text-gray-500">
                    Hecho con ðŸ’œ para tu bienestar emocional
                </p>
            </div>
        </div>
    </div>

    <script>
        const questions = {
            morning: [
                "Observa tu primer pensamiento del dÃ­a sin juzgarlo. Â¿Viene desde el miedo o desde el amor? Escribe en una frase quÃ© emociÃ³n predomina en ti ahora mismo.",
                "Antes de revisar tu telÃ©fono o redes sociales, cierra los ojos 30 segundos. Â¿QuÃ© sensaciÃ³n fÃ­sica notas en tu cuerpo? Respira profundo 3 veces y nÃ³mbrala en voz alta.",
                "Â¿QuÃ© historia te estÃ¡s contando sobre este dÃ­a que aÃºn no ha comenzado? Cuestiona si es verdad o una suposiciÃ³n. ReescrÃ­bela en positivo.",
                "Identifica una emociÃ³n incÃ³moda que estÃ©s sintiendo ahora. En lugar de evitarla, dale la bienvenida. PregÃºntale: Â¿quÃ© necesitas que sepa? Escucha en silencio.",
                "Nota si hay tensiÃ³n en tu mandÃ­bula, hombros o estÃ³mago. Respira hacia esa zona 5 veces. Â¿QuÃ© preocupaciÃ³n estÃ¡ viviendo ahÃ­? Dale un nombre.",
                "Â¿EstÃ¡s despertando con ansiedad por el futuro o culpa por el pasado? Regresa al presente: nombra 3 cosas que VES, 2 que ESCUCHAS y 1 que SIENTES fÃ­sicamente.",
                "Antes de planear tu dÃ­a, pregÃºntate: Â¿QuÃ© realmente importa HOY? Elige UNA cosa que estÃ© alineada con tus valores y compromÃ©tete con ella, sin importar lo demÃ¡s.",
                "Observa tu diÃ¡logo interno esta maÃ±ana. Â¿Te hablas como le hablarÃ­as a alguien que amas? Si no, corrige UNA frase negativa y repÃ­tela con compasiÃ³n.",
                "Â¿QuÃ© emociÃ³n estÃ¡s evitando sentir hoy? PermÃ­tete sentirla durante 60 segundos completos, sin distraerte. Luego suÃ©ltala con una exhalaciÃ³n profunda.",
                "Cierra los ojos y visualiza tu yo de esta noche mirando hacia atrÃ¡s. Â¿QuÃ© decisiÃ³n tomarÃ­as hoy que te harÃ­a sentir orgulloso/a? AnÃ³tala y actÃºa en ella."
            ],
            midday: [
                "Detente completamente por 2 minutos. Observa quÃ© pensamientos estÃ¡n dominando tu mente ahora. Â¿Son sobre el pasado, futuro o presente? Redirige tu atenciÃ³n a TU RESPIRACIÃ“N.",
                "Â¿EstÃ¡s operando desde el piloto automÃ¡tico o con consciencia? Identifica UNA acciÃ³n que hayas hecho sin pensar y repÃ­tela con atenciÃ³n plena ahora.",
                "Nota quÃ© emociÃ³n predomina en este momento: Â¿prisa, frustraciÃ³n, alegrÃ­a, cansancio? No la cambies, solo RECONÃ“CELA. Di en voz alta: 'Estoy sintiendo _____'.",
                "Â¿Has comido, tomado agua y respirado profundo hoy? Haz una pausa: bebe agua lentamente, respira 5 veces conscientemente. Tu cuerpo es tu ancla al presente.",
                "Identifica un pensamiento repetitivo que llevas desde la maÃ±ana. PregÃºntate: Â¿este pensamiento me estÃ¡ sirviendo? Si no, SUÃ‰LTALO. Visualiza cÃ³mo se va como una nube.",
                "Â¿EstÃ¡s tratando de controlar algo que no puedes cambiar? Haz una lista mental de lo que SÃ controlas ahora. Elige UNA acciÃ³n dentro de tu control y hazla.",
                "Revisa tu postura: Â¿cÃ³mo estÃ¡n tus hombros, tu cuello, tu respiraciÃ³n? Haz 3 respiraciones profundas y estira tu cuerpo. La tensiÃ³n fÃ­sica revela tensiÃ³n mental.",
                "Â¿Has estado reaccionando o respondiendo? Piensa en tu Ãºltima interacciÃ³n. Â¿Actuaste desde la consciencia o desde un patrÃ³n automÃ¡tico? Reflexiona 30 segundos.",
                "Si tu dÃ­a fuera un color ahora mismo, Â¿cuÃ¡l serÃ­a? Â¿Por quÃ©? PregÃºntate quÃ© necesitas para sentirte mÃ¡s equilibrado/a y haz UNA cosa pequeÃ±a al respecto.",
                "Observa si estÃ¡s comparando tu realidad con expectativas irreales. Suelta la perfecciÃ³n. PregÃºntate: Â¿QuÃ© estÃ¡ yendo BIEN ahora mismo? Enumera 3 cosas."
            ],
            afternoon: [
                "Antes de que el dÃ­a termine, identifica UNA conversaciÃ³n difÃ­cil que has evitado. Â¿QuÃ© miedo hay detrÃ¡s? NÃ³mbralo. Decide si necesitas actuar o soltar.",
                "Observa tu nivel de energÃ­a. Â¿EstÃ¡s agotado/a o revitalizado/a? Identifica quÃ© actividad o persona te drenÃ³ hoy. Â¿Puedes poner un lÃ­mite mÃ¡s claro maÃ±ana?",
                "Â¿Hay algo que necesites perdonar de hoy (a ti o a alguien mÃ¡s)? Cierra los ojos, siente la carga emocional y conscientemente ELIGE soltarla con tu exhalaciÃ³n.",
                "Reflexiona: Â¿actuaste hoy segÃºn tus valores o segÃºn las expectativas de otros? Si hubo un momento de desalineaciÃ³n, reconÃ³celo sin juicio. Anota quÃ© harÃ­as diferente.",
                "Â¿QuÃ© historia estÃ¡s repitiendo sobre ti mismo/a hoy? ('Siempre hago esto mal', 'Nunca tendrÃ© tiempo'). DesafÃ­ala. Escribe UNA evidencia de lo contrario.",
                "Observa si cargaste la energÃ­a emocional de otros. Â¿Adoptaste el estrÃ©s, la prisa o el mal humor de alguien mÃ¡s? Respira y suÃ©ltalo: no es tuyo.",
                "Haz un escaneo corporal rÃ¡pido: Â¿dÃ³nde sientes tensiÃ³n acumulada? Dedica 2 minutos a masajear esa zona mientras respiras profundo. Libera la tensiÃ³n fÃ­sica.",
                "Â¿Hay algo pendiente que estÃ© consumiendo tu energÃ­a mental? Decide AHORA: o lo haces, lo agendas para maÃ±ana, o lo sueltas. El espacio mental es valioso.",
                "Identifica una pequeÃ±a victoria de hoy que pasaste por alto. Celebra ese logro por 30 segundos, aunque sea mÃ­nimo. El reconocimiento crea momentum positivo.",
                "Si tuvieras que enseÃ±arle algo a alguien sobre lo que viviste hoy, Â¿quÃ© lecciÃ³n compartirÃ­as? AnÃ³tala. Esa sabidurÃ­a es tu regalo del dÃ­a."
            ],
            night: [
                "Antes de dormir, pregÃºntate: Â¿QuÃ© emociÃ³n no procesÃ© hoy que sigue dentro de mÃ­? PermÃ­tete sentirla completamente por 2 minutos. Luego respira y suÃ©ltala.",
                "Haz un balance honesto: Â¿pasÃ© mÃ¡s tiempo preocupÃ¡ndome o viviendo? Si la preocupaciÃ³n ganÃ³, identifica UNA acciÃ³n que puedas tomar maÃ±ana para cambiar eso.",
                "Revisa si fuiste amable contigo hoy. Si no lo fuiste, escribe UNA frase compasiva que te dirÃ­as si fueras tu mejor amigo/a. LÃ©ela en voz alta antes de dormir.",
                "Enumera 3 momentos de hoy por los que te sientes genuinamente agradecido/a. Pueden ser pequeÃ±os. Siente la gratitud en tu pecho mientras los recuerdas.",
                "Â¿Hay algo que dijiste o hiciste hoy que no estÃ© alineado con quien quieres ser? ReconÃ³celo sin culpa. PregÃºntate: Â¿QuÃ© harÃ© diferente maÃ±ana?",
                "Observa tu cuerpo: Â¿dÃ³nde llevas la tensiÃ³n del dÃ­a? Haz un escaneo de pies a cabeza. Respira hacia cada zona tensa y visualiza cÃ³mo se relaja.",
                "Antes de revisar redes sociales o pantallas, cierra los ojos. Â¿QuÃ© necesitas REALMENTE ahora: conexiÃ³n, descanso, silencio? Date eso en lugar de distracciÃ³n.",
                "Identifica un patrÃ³n que se repitiÃ³ hoy (ej: postergar, compararte, reaccionar). Sin juzgarte, pregÃºntate: Â¿QuÃ© necesidad no atendida hay detrÃ¡s? Reflexiona en silencio.",
                "Si hoy fuera la Ãºltima pÃ¡gina de un capÃ­tulo de tu vida, Â¿quÃ© frase escribirÃ­as para cerrarlo? AnÃ³tala. MaÃ±ana comienza un nuevo capÃ­tulo: Â¿cÃ³mo quieres que inicie?",
                "Suelta las expectativas de lo que 'debiÃ³ ser' hoy. Lo que fue, fue perfecto para tu aprendizaje. Haz 5 respiraciones profundas y repite: 'Suelto el control. ConfÃ­o en el proceso.'"
            ]
        };

        const timeRanges = {
            morning: { start: 6, end: 9 },
            midday: { start: 11, end: 13 },
            afternoon: { start: 15, end: 18 },
            night: { start: 20, end: 22 }
        };

        let notificationsEnabled = false;
        let dailySchedule = [];

        function getRandomTime(start, end) {
            const hour = Math.floor(Math.random() * (end - start + 1)) + start;
            const minute = Math.floor(Math.random() * 60);
            return { hour, minute };
        }

        function getRandomQuestion(timeOfDay) {
            const questionList = questions[timeOfDay];
            return questionList[Math.floor(Math.random() * questionList.length)];
        }

        function generateDailySchedule() {
            const schedule = [];
            Object.keys(timeRanges).forEach(period => {
                const { hour, minute } = getRandomTime(timeRanges[period].start, timeRanges[period].end);
                schedule.push({
                    period,
                    hour,
                    minute,
                    question: getRandomQuestion(period),
                    time: `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`
                });
            });
            return schedule.sort((a, b) => (a.hour * 60 + a.minute) - (b.hour * 60 + b.minute));
        }

        function getPeriodIcon(period) {
            const icons = {
                morning: '<svg class="w-6 h-6 text-amber-500" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v6m0 6v6m8.66-11.66l-4.24 4.24M7.58 7.58L3.34 3.34m0 17.32l4.24-4.24m9.08 0l4.24 4.24M23 12h-6m-6 0H1"/></svg>',
                midday: '<svg class="w-6 h-6 text-orange-500" fill="currentColor" viewBox="0 0 24 24"><path d="M2 21h18v-2H2m9-15h2v3h-2m4 13l1.5 1.5 2.1-2.1-1.5-1.5M1.8 10h3v2h-3m15.2 0h3v2h-3m-10 6h2v3h-2M8.5 6.6L7 5.1 4.9 7.2l1.5 1.5M20.1 17l-2.1 2.1 1.5 1.5 2.1-2.1M15 8c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5z"/></svg>',
                afternoon: '<svg class="w-6 h-6 text-rose-500" fill="currentColor" viewBox="0 0 24 24"><path d="M3 12h18M3 6h18M3 18h18"/></svg>',
                night: '<svg class="w-6 h-6 text-indigo-500" fill="currentColor" viewBox="0 0 24 24"><path d="M17.75 4.09L15.22 6.03L16.13 9.09L13.5 7.28L10.87 9.09L11.78 6.03L9.25 4.09L12.44 4L13.5 1L14.56 4L17.75 4.09M21.25 11L19.61 12.25L20.2 14.23L18.5 13.06L16.8 14.23L17.39 12.25L15.75 11L17.81 10.95L18.5 9L19.19 10.95L21.25 11M18.97 15.95C19.8 15.87 20.69 17.05 20.16 17.8C19.84 18.25 19.5 18.67 19.08 19.07C15.17 23 8.84 23 4.94 19.07C1.03 15.17 1.03 8.83 4.94 4.93C5.34 4.53 5.76 4.17 6.21 3.85C6.96 3.32 8.14 4.21 8.06 5.04C7.79 7.9 8.75 10.87 10.95 13.06C13.14 15.26 16.1 16.22 18.97 15.95M17.33 17.97C14.5 17.81 11.7 16.64 9.53 14.5C7.36 12.31 6.2 9.5 6.04 6.68C3.23 9.82 3.34 14.64 6.35 17.66C9.37 20.67 14.19 20.78 17.33 17.97Z"/></svg>'
            };
            return icons[period];
        }

        function getPeriodName(period) {
            const names = {
                morning: 'MaÃ±ana',
                midday: 'MediodÃ­a',
                afternoon: 'Tarde',
                night: 'Noche'
            };
            return names[period];
        }

        function formatTime12h(time) {
            const [hour, minute] = time.split(':');
            const h = parseInt(hour);
            const period = h >= 12 ? 'PM' : 'AM';
            const hour12 = h > 12 ? h - 12 : h === 0 ? 12 : h;
            return `${hour12}:${minute} ${period}`;
        }

        function displaySchedule() {
            const scheduleList = document.getElementById('scheduleList');
            scheduleList.innerHTML = '';
            
            dailySchedule.forEach(item => {
                const div = document.createElement('div');
                div.className = 'flex items-start gap-3 p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl';
                div.innerHTML = `
                    <div class="mt-1">${getPeriodIcon(item.period)}</div>
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="font-semibold text-sm text-gray-700">${getPeriodName(item.period)}</span>
                            <span class="text-xs text-gray-500">â€¢</span>
                            <span class="text-sm text-purple-600 font-medium">${formatTime12h(item.time)}</span>
                        </div>
                        <p class="text-sm text-gray-600">${item.question}</p>
                    </div>
                `;
                scheduleList.appendChild(div);
            });
        }

        function showNotification(question) {
            document.getElementById('currentQuestion').textContent = question;
            document.getElementById('questionSection').classList.remove('hidden');
            
            if (notificationsEnabled && 'Notification' in window && Notification.permission === 'granted') {
                new Notification('Momento de ReflexiÃ³n ðŸ§˜', {
                    body: question,
                    icon: 'ðŸ§˜'
                });
            }
        }

        async function activateNotifications() {
            if ('Notification' in window) {
                const permission = await Notification.requestPermission();
                if (permission === 'granted') {
                    notificationsEnabled = true;
                    dailySchedule = generateDailySchedule();
                    
                    document.getElementById('enableSection').classList.add('hidden');
                    document.getElementById('scheduleSection').classList.remove('hidden');
                    document.getElementById('testSection').classList.remove('hidden');
                    
                    displaySchedule();
                    scheduleNotifications();
                }
            } else {
                alert('Tu navegador no soporta notificaciones. Para usar esta app en tu celular, guÃ¡rdala en tu pantalla de inicio.');
            }
        }

        function scheduleNotifications() {
            const now = new Date();
            dailySchedule.forEach(item => {
                const notifTime = new Date();
                notifTime.setHours(item.hour, item.minute, 0, 0);
                
                if (notifTime > now) {
                    const delay = notifTime - now;
                    setTimeout(() => showNotification(item.question), delay);
                }
            });
        }

        function testNotification() {
            const randomQuestion = getRandomQuestion('morning');
            showNotification(randomQuestion);
        }

        // Initialize
        window.addEventListener('load', () => {
            dailySchedule = generateDailySchedule();
        });
    </script>
</body>
</html>
